# TXT產品批量導入格式說明

## 📄 文件要求

- **文件格式**: `.txt` 文件
- **編碼方式**: UTF-8 編碼（支援中文字符）
- **文件大小**: 建議不超過 10MB

## 📝 基本格式

### 產品分隔符
每個產品之間必須用 `---` 分隔（三個短橫線）

```
產品1的信息
---
產品2的信息
---
產品3的信息
```

### 字段格式
每行使用 `字段名: 值` 的格式，冒號後面要有一個空格

```
名稱: 產品名稱
價格: 299
庫存: 100
```

## 🔧 支援的字段

### 必填字段

| 字段名 | 說明 | 範例 |
|--------|------|------|
| `名稱` 或 `name` | 產品名稱 | `OXVA NEXLIM 大蠻牛` |
| `價格` 或 `price` | 產品價格（數字） | `299` |

### 可選字段

| 字段名 | 說明 | 範例 | 預設值 |
|--------|------|------|--------|
| `庫存` 或 `stock` | 庫存數量（整數） | `100` | `0` |
| `分類` 或 `category` | 產品分類 | `一次性拋棄式電子煙` | `其他產品` |
| `描述` 或 `description` | 產品詳細描述 | `這是一款高品質的電子煙...` | 空 |
| `多件優惠` 或 `multi_discount` | JSON格式的優惠設定 | `{"2": 0.9, "5": 0.8}` | `{}` |
| `是否啟用` 或 `is_active` | 產品狀態 | `true` / `false` / `是` / `否` | `true` |

## 📋 完整範例

```
名稱: OXVA NEXLIM 大蠻牛
價格: 300
庫存: 100
分類: 一次性拋棄式電子煙
描述: OXVA NeXLIM 是 OXVA 推出的最新一代電子煙設備，旨在為用戶提供卓越的體驗。主要特點包括強大的電池容量、雙網格技術、可調節功率範圍等。
多件優惠: {"2": 0.9, "5": 0.8, "10": 0.7}
是否啟用: true
---
名稱: OXVA XLIM PRO 2
價格: 250
庫存: 50
分類: 注油式主機與耗材
描述: 注油式主機，可重複使用，經濟實惠。
是否啟用: true
---
名稱: 小煙油系列 - 蘋果味
價格: 150
庫存: 200
分類: 小煙油系列
描述: 清香的蘋果味煙油，口感順滑。
多件優惠: {"3": 0.85}
是否啟用: true
```

## 🎯 可用的產品分類

目前系統支援以下分類（管理員可自定義）：

1. **一次性拋棄式電子煙**
2. **注油式主機與耗材**
3. **拋棄式通用煙蛋系列**
4. **小煙油系列**
5. **其他產品**

## 💰 多件優惠設定說明

多件優惠使用 JSON 格式，鍵為購買數量，值為折扣係數：

```json
{
  "2": 0.9,    // 買2件打9折
  "5": 0.8,    // 買5件打8折
  "10": 0.7    // 買10件打7折
}
```

- 折扣係數範圍：0.1 - 1.0
- `1.0` = 無折扣，`0.9` = 9折，`0.8` = 8折

## ✅ 驗證規則

### 自動驗證項目
- **產品名稱**: 不能為空，不能重複
- **價格**: 必須是大於0的數字
- **庫存**: 必須是非負整數
- **分類**: 必須是系統中存在的分類
- **多件優惠**: 必須是有效的JSON格式

### 錯誤處理
- 如果某個產品有錯誤，將跳過該產品並在結果中顯示錯誤信息
- 其他正確的產品仍會正常導入
- 重複的產品名稱會被拒絕

## 📊 導入結果

系統會顯示詳細的導入結果：

- **解析總數**: 從文件中解析到的產品數量
- **成功**: 成功導入的產品數量
- **失敗**: 導入失敗的產品數量
- **錯誤詳情**: 具體的錯誤信息列表

## 💡 最佳實踐

1. **文件編碼**: 確保使用UTF-8編碼保存文件
2. **格式一致**: 保持字段名的一致性
3. **數據驗證**: 導入前檢查價格和庫存是否為有效數字
4. **分類檢查**: 確認分類名稱與系統中的分類完全一致
5. **備份數據**: 大量導入前建議先備份現有數據
6. **小批測試**: 建議先用少量數據測試格式是否正確

## 🚨 常見錯誤

### 格式錯誤
```
❌ 錯誤: 名稱:OXVA NEXLIM  (冒號後缺少空格)
✅ 正確: 名稱: OXVA NEXLIM
```

### 價格錯誤
```
❌ 錯誤: 價格: 免費
✅ 正確: 價格: 0
```

### JSON格式錯誤
```
❌ 錯誤: 多件優惠: {2: 0.9, 5: 0.8}
✅ 正確: 多件優惠: {"2": 0.9, "5": 0.8}
```

### 分類錯誤
```
❌ 錯誤: 分類: 電子煙設備  (不存在的分類)
✅ 正確: 分類: 一次性拋棄式電子煙
```

## 📞 技術支援

如果在使用過程中遇到問題，請：

1. 檢查文件格式是否符合規範
2. 確認所有必填字段都已填寫
3. 驗證JSON格式是否正確
4. 確認分類名稱是否準確

---

**注意**: 批量導入不包含圖片上傳，產品圖片需要在導入後單獨上傳。 