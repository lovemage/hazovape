#!/usr/bin/env node

const sqlite3 = require('sqlite3').verbose();
const path = require('path');

// æ•¸æ“šåº«è·¯å¾‘
const dbPath = path.join(__dirname, '../data/mistmall.db');
const db = new sqlite3.Database(dbPath);

console.log('ğŸ”§ é–‹å§‹æ›´æ–°ç”¢å“è¦æ ¼...');

// æ ¹æ“šä¸­å¤®å»šæˆ¿æ–‡æª”çš„ç”¢å“è¦æ ¼
const productUpdates = [
  {
    id: 1,
    name: 'OXVA NEXLIM å¤§è »ç‰›é›»å­ç…™ä¸»æ©Ÿ',
    description: `OXVA NeXLIM æ˜¯ OXVA æ¨å‡ºçš„æœ€æ–°ä¸€ä»£é›»å­ç…™è¨­å‚™ï¼Œæ—¨åœ¨ç‚ºç”¨æˆ¶æä¾›å“è¶Šçš„é«”é©—ã€‚

ğŸ”‹ ä¸»è¦ç‰¹é»ï¼š
â€¢ å¼·å¤§çš„é›»æ± å®¹é‡ï¼šå…§å»º 1500mAh é›»æ± ï¼Œæä¾›æŒä¹…çš„ä½¿ç”¨æ™‚é–“
â€¢ é›™ç¶²æ ¼æŠ€è¡“ï¼šæ¡ç”¨å‰µæ–°çš„é›™ç¶²æ ¼æŠ€è¡“ï¼Œæå‡é¢¨å‘³è¡¨ç¾ï¼Œå»¶é•·ç·šåœˆå£½å‘½
â€¢ è¼¸å‡ºåŠŸç‡ï¼šå¯èª¿ç¯€åŠŸç‡ç¯„åœç‚º 5W è‡³ 40Wï¼Œæ»¿è¶³ä¸åŒçš„å¸ç…™éœ€æ±‚
â€¢ é¡¯ç¤ºè¢å¹•ï¼šé…å‚™ 0.85 è‹±å¯¸å½©è‰²è¢å¹•ï¼Œæä¾›æ¸…æ™°çš„è³‡è¨Šé¡¯ç¤º
â€¢ æ“ä½œæ¨¡å¼ï¼šæä¾› BOOST å’Œ ECO æ¨¡å¼ï¼Œè®“ç”¨æˆ¶æ ¹æ“šå–œå¥½èª¿æ•´é«”é©—
â€¢ ç…™å½ˆå®¹é‡ï¼š4ml å¤§å®¹é‡ç…™å½ˆï¼Œæ¸›å°‘é »ç¹åŠ æ²¹çš„éº»ç…©
â€¢ å¿«é€Ÿå……é›»ï¼šæ”¯æ´ 2A Type-C å¿«é€Ÿå……é›»ï¼Œç¸®çŸ­å……é›»æ™‚é–“

ğŸ¨ é¡è‰²è¦æ ¼ï¼ˆ12æ¬¾ï¼‰ï¼š
â€¢ Power Black - åŠ›é‡é»‘
â€¢ Glory Red - æ¦®è€€ç´…  
â€¢ Pearl Pink - çç ç²‰
â€¢ Rose Gold - ç«ç‘°é‡‘
â€¢ Black Gold - é»‘é‡‘
â€¢ Dark Gray - æ·±ç°
â€¢ Starry Blue - æ˜Ÿç©ºè—
â€¢ Dark Blue - æ·±è—
â€¢ Pine Green - æ¾ç¶ 
â€¢ Dark Brown - æ·±æ£•
â€¢ Black Warrior - é»‘æ­¦å£«
â€¢ Coral Orange - çŠç‘šæ©™

ğŸ”§ NEXLIMæ–°ç‰ˆç…™å½ˆè¦æ ¼ï¼š
â€¢ 0.6æ­å§†ï¼ˆ3å…¥è£ï¼‰
â€¢ 0.8æ­å§†ï¼ˆ3å…¥è£ï¼‰  
â€¢ 1.2æ­å§†ï¼ˆ3å…¥è£ï¼‰

ğŸ”Œ è½‰æ¥é ­ï¼š
â€¢ è½‰æ¥é ­ï¼ˆå¥—ä¸Šå¾Œé©ç”¨èˆŠç‰ˆç…™å½ˆï¼‰

ğŸ“¦ ç”¢å“åˆ†é¡ï¼šä¸»æ©Ÿã€ç…™å½ˆã€è½‰æ¥é ­

ğŸ—ï¸ è¨­è¨ˆèˆ‡å¤–è§€ï¼š
NeXLIM æ¡ç”¨é‹…åˆé‡‘æ©Ÿèº«ï¼Œæ­é…å¤šç¨®é¡è‰²å’Œæè³ªçš„é¢æ¿è¨­è¨ˆï¼Œæ»¿è¶³ä¸åŒç”¨æˆ¶çš„å¯©ç¾éœ€æ±‚ã€‚

âœ¨ ä½¿ç”¨é«”é©—ï¼š
NeXLIM çš„é›™ç¶²æ ¼æŠ€è¡“æä¾›äº†å“è¶Šçš„é¢¨å‘³é«”é©—ï¼ŒBOOST æ¨¡å¼ä¸‹é¢¨å‘³æ›´ç‚ºæ¿ƒéƒï¼Œè€Œ ECO æ¨¡å¼å‰‡å»¶é•·é›»æ± å’Œç·šåœˆçš„ä½¿ç”¨å£½å‘½ã€‚ç²¾ç¢ºçš„æ°£æµæ§åˆ¶å’Œè‡ªå‹•å•Ÿå‹•åŠŸèƒ½é€²ä¸€æ­¥æå‡äº†ä½¿ç”¨çš„ä¾¿åˆ©æ€§å’Œæ»¿æ„åº¦ã€‚`
  },
  {
    id: 2,
    name: 'OXVA XLIM PRO 2 å°è »ç‰›PRO 2é›»å­ç…™ä¸»æ©Ÿ',
    description: `æ¡ç”¨äº† Oxva Xlim ç³»åˆ—çš„æ——è‰¦é›»å­ç…™ç³»çµ±ï¼Œåœ¨æ€§èƒ½ã€å£½å‘½å’Œè¨­è¨ˆæ–¹é¢å–ä»£äº†å…ˆå‰çš„å‹è™Ÿå’Œæ™®é€šé›»å­ç…™å¥—ä»¶ã€‚

ğŸ”‹ æ ¸å¿ƒè¦æ ¼ï¼š
â€¢ é›»æ± å®¹é‡ï¼š1300 mAh å¤§é›»æ± ï¼Œç¶“éå„ªåŒ–
â€¢ çºŒèˆªæ™‚é–“ï¼šå¯ä»¥äº«å—å››å¤©çš„é›»å­ç…™æ¨‚è¶£
â€¢ å¿«é€Ÿå……é›»ï¼šåŠå°æ™‚å…§é€é USB Type-C é€£æ¥åŸ å……é›»
â€¢ é¡¯ç¤ºå™¨ï¼šé«˜åƒç´ æ•¸ã€0.56 å‹å½©è‰²é¡¯ç¤ºå™¨
â€¢ æ“ä½œï¼šå–®æ‰‹æ“ä½œï¼Œæ¶ˆé™¤åˆ‡æ›å’Œä»‹é¢éšœç¤™

ğŸ¨ é¡è‰²è¦æ ¼ï¼ˆ10æ¬¾ï¼‰ï¼š
â€¢ é»‘æ­¦å£« Black Knight
â€¢ å¡å¤¢é»‘é‡‘ Carbon Black Gold
â€¢ å¡å¤¢éŠ€ Carbon Silver
â€¢ å¤¢å¹»ç´« Dreamy Purple
â€¢ å¤¢å¹»ç° Dreamy Grey
â€¢ çš®é©è— Leather Blue
â€¢ çš®é©ç¶  Leather Green
â€¢ çš®é©ç²‰ Leather Pink
â€¢ çš®é©æ£• Leather Brown
â€¢ ç¥ç€æ©™ Amber Orange

ğŸ”§ åŸå» å°è »ç‰› XLIM ç³»åˆ—ç…™å½ˆï¼š
â€¢ 0.4Î© ç…™å½ˆ
â€¢ 0.6Î© ç…™å½ˆ
â€¢ 0.8Î© ç…™å½ˆ

ğŸ“¦ ç”¢å“åˆ†é¡ï¼šä¸»æ©Ÿã€ç…™å½ˆ

âœ¨ ç”¢å“ç‰¹è‰²ï¼š
ä»»ä½•ç´šåˆ¥çš„é›»å­ç…™ä½¿ç”¨è€…éƒ½å¯ä»¥é€éå…¶è¶…é«˜æ¸…ä»‹é¢ç›£æ§è‡ªå·±çš„å³æ™‚ä½¿ç”¨æƒ…æ³ï¼Œä¸¦é€²è¡Œç„¡ç¸«èª¿æ•´ï¼Œä»¥å½¢æˆå®Œç¾çš„é›»å­ç…™é«”é©—ã€‚å†åŠ ä¸Šä»¤äººé›£ä»¥ç½®ä¿¡çš„ä½¿ç”¨å£½å‘½ï¼ŒXlim PRO 2 æ˜¯è¿½æ±‚é«˜å“è³ªé›»å­ç…™é«”é©—ç”¨æˆ¶çš„å®Œç¾é¸æ“‡ã€‚`
  },
  {
    id: 3,
    name: 'OXVA XLIM SQ PRO 2 å°è »ç‰› SQ PRO 2é›»å­ç…™ä¸»æ©Ÿ',
    description: `OXVA XLIM SQ PRO 2 æœ€æ–°æ™ºæ…§é›»å­ç…™ä¸»æ©Ÿï¼Œé…å‚™å…ˆé€²çš„è§¸æ§è¢å¹•æŠ€è¡“å’Œè¶…å¤§é›»æ± å®¹é‡ã€‚

ğŸ”‹ æ ¸å¿ƒè¦æ ¼ï¼š
â€¢ è¢å¹•ï¼š1.09 å‹ HD æ™ºæ…§è§¸æ§è¢å¹•ï¼Œæ”¯æ´ 64 ç¨®ç•«é¢çµ„åˆï¼Œæ“ä½œæµæš¢
â€¢ é›»æ± ï¼š1600mAh è¶…å¤§é›»æ± ï¼ŒECO æ¨¡å¼ä¸‹çºŒèˆªå¯é” 7 å¤©
â€¢ åŠŸç‡ï¼š5â€“30W è¼¸å‡ºåŠŸç‡ï¼Œæ”¯æ´ MTL/RDL å¸æ³•
â€¢ å……é›»ï¼šType-C å¿«å……ï¼Œ45 åˆ†é˜å…§å……æ»¿é›»
â€¢ æ°£æµï¼šå´é‚Šæ°£æµèª¿ç¯€ï¼ˆAFCï¼‰ï¼Œå¯ä¾å–œå¥½èª¿æ•´å¸é˜»

ğŸ¨ é¡è‰²è¦æ ¼ï¼ˆ10æ¬¾ï¼‰ï¼š
â€¢ Black Carbon - ç¢³çº–é»‘
â€¢ Black Leather - çš®é©é»‘
â€¢ Brown Leather - çš®é©æ£•
â€¢ Gunmetal Wood - æ§ç°æœ¨ç´‹
â€¢ Brown Wood - åŸæœ¨æ£•
â€¢ Blue Shadow - æ·±è—å½±
â€¢ Frost Marble - éœœé›ªå¤§ç†çŸ³
â€¢ Celadon Marble - é’ç“·å¤§ç†çŸ³
â€¢ Dream Pink - å¤¢å¹»ç²‰
â€¢ Dream Purple - å¤¢å¹»ç´«

ğŸ”§ åŸå» å°è »ç‰› XLIM ç³»åˆ—ç…™å½ˆï¼š
â€¢ 0.4Î© ç…™å½ˆ
â€¢ 0.6Î© ç…™å½ˆ
â€¢ 0.8Î© ç…™å½ˆ

ğŸ“¦ ç”¢å“åˆ†é¡ï¼šä¸»æ©Ÿã€ç…™å½ˆ

ğŸ› ï¸ æ™ºèƒ½åŠŸèƒ½ï¼š
â€¢ æ™ºæ…§å¸å—¨æ—¥èªŒï¼Œå¯è¨˜éŒ„ 30 å¤©ä½¿ç”¨è¶¨å‹¢ï¼Œ5 ä½æ•¸è¨ˆæ•¸å™¨
â€¢ æ”¯æ´ XLIM å…¨ç³»åˆ—å½ˆèŠ¯ï¼ˆTop Fillã€V2ã€EZï¼‰ï¼Œç›¸å®¹æ€§æ¥µé«˜
â€¢ å…§å»ºå¯¦ç”¨å·¥å…·ï¼šæ‰‹é›»ç­’ã€ç¢¼è¡¨ã€æ—¥æ›†ã€èªè¨€åˆ‡æ›ç­‰

âœ¨ ç”¢å“ç‰¹è‰²ï¼š
çµåˆæ™ºæ…§ç§‘æŠ€èˆ‡å¯¦ç”¨åŠŸèƒ½ï¼Œç‚ºç”¨æˆ¶æä¾›æœ€ä¾¿åˆ©çš„é›»å­ç…™é«”é©—ã€‚è¶…å¤§è¢å¹•å’Œç›´è§€æ“ä½œç•Œé¢ï¼Œè®“æ¯æ¬¡ä½¿ç”¨éƒ½æ›´åŠ æ„‰æ‚…ã€‚`
  }
];

// æ›´æ–°ç”¢å“å‡½æ•¸
function updateProduct(productData) {
  return new Promise((resolve, reject) => {
    const sql = `UPDATE products SET name = ?, description = ? WHERE id = ?`;
    
    db.run(sql, [productData.name, productData.description, productData.id], function(err) {
      if (err) {
        reject(err);
      } else {
        console.log(`âœ… å·²æ›´æ–°ç”¢å“ ID ${productData.id}: ${productData.name}`);
        resolve();
      }
    });
  });
}

// åŸ·è¡Œæ›´æ–°
async function updateAllProducts() {
  try {
    for (const product of productUpdates) {
      await updateProduct(product);
    }
    
    console.log('\nğŸ‰ æ‰€æœ‰ç”¢å“è¦æ ¼æ›´æ–°å®Œæˆï¼');
    console.log('\nğŸ“‹ æ›´æ–°æ‘˜è¦ï¼š');
    console.log('â€¢ OXVA NEXLIM å¤§è »ç‰›ï¼š12ç¨®é¡è‰² + 3ç¨®ç…™å½ˆè¦æ ¼ + è½‰æ¥é ­');
    console.log('â€¢ OXVA XLIM PRO 2ï¼š10ç¨®é¡è‰² + 3ç¨®ç…™å½ˆè¦æ ¼');
    console.log('â€¢ OXVA XLIM SQ PRO 2ï¼š10ç¨®é¡è‰² + 3ç¨®ç…™å½ˆè¦æ ¼ + æ™ºèƒ½åŠŸèƒ½');
    
  } catch (error) {
    console.error('âŒ æ›´æ–°å¤±æ•—:', error);
  } finally {
    db.close();
  }
}

// åŸ·è¡Œæ›´æ–°
updateAllProducts(); 