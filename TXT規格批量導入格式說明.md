# 規格批量導入格式說明

## 📄 文件要求

- **文件格式**: `.txt` 文件
- **編碼**: UTF-8
- **文件大小**: 建議不超過 5MB

## 📝 基本格式

### 產品組結構
每個產品組包含以下信息：
```
產品名稱: [產品名稱]
分類: [規格分類]（可選，預設為"規格"）
規格:
[規格名稱1]
[規格名稱2]
[規格名稱3]
...
```

### 分隔符號
- 使用 `---` 或 **兩個空行** 分隔不同產品組
- 每個規格名稱佔一行

## 🛠️ 支持的字段

### 必需字段
| 字段 | 格式 | 說明 |
|------|------|------|
| **產品名稱** | `產品名稱: [名稱]` | 必須是系統中已存在的產品名稱 |
| **規格** | `規格:` | 開始規格列表的標識符 |

### 可選字段
| 字段 | 格式 | 說明 | 預設值 |
|------|------|------|--------|
| **分類** | `分類: [分類名稱]` | 規格分類 | "規格" |

### 支持的替代寫法
- `產品名稱:` = `商品名稱:`
- `規格:` = `口味:`
- 支持中文冒號（：）和英文冒號（:）

## 📋 完整範例

```txt
# 這是註釋，會被忽略

產品名稱: OXVA NEXLIM 大蠻牛
規格:
西瓜
蘋果
葡萄
榴蓮
芒果
藍莓
薄荷

---

產品名稱: OXVA XLIM PRO 2
分類: 煙油口味
規格:
香草
巧克力
咖啡
抹茶
草莓
橙子

---

產品名稱: 小煙油系列 - 蘋果味
規格:
10ml
30ml
50ml
100ml
```

## ⚠️ 驗證規則

### 產品驗證
1. **產品必須存在**: 產品名稱必須與系統中的產品完全匹配
2. **產品必須啟用**: 只能為啟用狀態的產品添加規格

### 規格驗證
1. **規格名稱不能為空**
2. **不允許重複規格**: 同一產品下不能有相同名稱的規格
3. **規格名稱長度**: 建議不超過50個字符

### 格式驗證
1. **必需字段檢查**: 產品名稱和規格列表不能為空
2. **行格式驗證**: 確保冒號和內容格式正確

## 🚨 錯誤處理

### 常見錯誤類型
| 錯誤類型 | 原因 | 解決方案 |
|----------|------|----------|
| 產品不存在 | 產品名稱拼寫錯誤或產品未創建 | 檢查產品名稱，確保與系統中完全一致 |
| 規格重複 | 該產品已有同名規格 | 跳過重複規格，只添加新規格 |
| 格式錯誤 | 缺少冒號或格式不正確 | 檢查每行格式，確保符合要求 |
| 空規格列表 | 規格列表為空 | 在規格:後添加至少一個規格名稱 |

### 導入結果
導入完成後會顯示：
- **總產品組數**: 文件中的產品組總數
- **成功數量**: 成功處理的產品組數
- **失敗數量**: 處理失敗的產品組數
- **總規格數**: 成功添加的規格總數
- **錯誤詳情**: 具體的錯誤信息列表

## 💡 最佳實踐

### 1. 文件準備
- 使用純文字編輯器（如記事本、VS Code）編輯
- 保存時選擇 UTF-8 編碼
- 避免使用富文本格式（Word等）

### 2. 數據組織
- 一次導入不超過100個產品組
- 將相似產品組織在一起
- 為規格使用清晰、一致的命名

### 3. 測試導入
- 先創建小範圍測試文件
- 確認格式正確後再批量導入
- 定期備份現有數據

### 4. 錯誤預防
- 導入前確認所有產品都已創建
- 檢查產品名稱的大小寫和標點符號
- 避免規格名稱中的特殊字符

## 🎯 使用流程

1. **下載模板**: 點擊"下載模板"獲取範例文件
2. **編輯內容**: 根據格式要求編輯txt文件
3. **選擇文件**: 在admin規格管理頁面選擇文件
4. **開始導入**: 點擊"開始導入"
5. **查看結果**: 檢查導入結果和錯誤信息
6. **處理錯誤**: 根據錯誤信息修正數據並重新導入

## 📞 技術支持

如果在使用過程中遇到問題：
1. 檢查文件格式是否符合要求
2. 查看錯誤詳情中的具體提示
3. 參考範例文件格式
4. 確認產品名稱是否完全匹配

---

*此功能支持快速為多個產品批量添加規格，大大提高管理效率！* 